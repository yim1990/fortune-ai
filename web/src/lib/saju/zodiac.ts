/**
 * 12지지(띠) 관련 유틸리티 함수
 */

/**
 * 12지지 타입 정의
 */
export type Zodiac = '쥐' | '소' | '호랑이' | '토끼' | '용' | '뱀' | '말' | '양' | '원숭이' | '닭' | '개' | '돼지';

/**
 * 12지지 정보 타입
 */
export interface ZodiacInfo {
  name: Zodiac;
  keyword: string;
  description: string;
  teaser: string;
  emoji: string;
}

/**
 * 12지지별 특성 정보 매핑
 */
export const ZODIAC_INFO: Record<Zodiac, ZodiacInfo> = {
  '쥐': {
    name: '쥐',
    keyword: '영리함과 적응력',
    description: '빠른 판단력과 뛰어난 적응력을 가진 당신',
    teaser: '당신은 어떤 상황에서도 기회를 놓치지 않는 예리한 감각을 가지고 있습니다. 올해는 특히...',
    emoji: '🐭',
  },
  '소': {
    name: '소',
    keyword: '성실함과 인내',
    description: '묵묵히 노력하는 성실한 당신',
    teaser: '당신의 끈기와 성실함은 주변 사람들에게 신뢰를 줍니다. 꾸준한 노력이 결실을 맺을...',
    emoji: '🐮',
  },
  '호랑이': {
    name: '호랑이',
    keyword: '용기와 리더십',
    description: '당당하고 용감한 리더의 기질',
    teaser: '당신은 타고난 리더십으로 사람들을 이끄는 힘이 있습니다. 새로운 도전이 당신을...',
    emoji: '🐯',
  },
  '토끼': {
    name: '토끼',
    keyword: '온화함과 지혜',
    description: '부드러운 카리스마를 가진 당신',
    teaser: '당신의 따뜻한 성품은 주변을 편안하게 만듭니다. 조화로운 관계 속에서 행복이...',
    emoji: '🐰',
  },
  '용': {
    name: '용',
    keyword: '권위와 카리스마',
    description: '당당한 존재감과 강한 의지',
    teaser: '당신은 타고난 카리스마로 주목받는 존재입니다. 큰 뜻을 이루기 위한 기운이...',
    emoji: '🐲',
  },
  '뱀': {
    name: '뱀',
    keyword: '지혜와 통찰력',
    description: '깊은 사고와 예리한 직관',
    teaser: '당신은 표면 아래 숨겨진 진실을 꿰뚫어 보는 통찰력이 있습니다. 지혜로운 선택이...',
    emoji: '🐍',
  },
  '말': {
    name: '말',
    keyword: '자유와 열정',
    description: '활력 넘치고 자유로운 영혼',
    teaser: '당신은 어디든 달려갈 수 있는 자유로운 기운을 가지고 있습니다. 열정이 이끄는 대로...',
    emoji: '🐴',
  },
  '양': {
    name: '양',
    keyword: '평화와 예술성',
    description: '예술적 감각과 평화로운 마음',
    teaser: '당신은 아름다움을 추구하는 섬세한 감성을 가지고 있습니다. 창조적인 에너지가...',
    emoji: '🐑',
  },
  '원숭이': {
    name: '원숭이',
    keyword: '재치와 창의성',
    description: '유머와 재치가 넘치는 당신',
    teaser: '당신은 독특한 아이디어로 문제를 해결하는 창의적인 사고를 가지고 있습니다. 재미있는 일이...',
    emoji: '🐵',
  },
  '닭': {
    name: '닭',
    keyword: '정확함과 책임감',
    description: '꼼꼼하고 책임감 있는 당신',
    teaser: '당신은 세심한 관찰력으로 완벽을 추구합니다. 정직한 마음가짐이 좋은 기회를...',
    emoji: '🐔',
  },
  '개': {
    name: '개',
    keyword: '충성과 정의',
    description: '의리 있고 정의로운 당신',
    teaser: '당신은 진심 어린 마음으로 사람들의 신뢰를 얻습니다. 올바른 길을 향한 당신의 의지가...',
    emoji: '🐕',
  },
  '돼지': {
    name: '돼지',
    keyword: '복과 풍요',
    description: '넉넉한 마음과 복을 부르는 당신',
    teaser: '당신은 풍요로운 에너지를 가지고 있어 주변에 행운을 나눕니다. 물질적 풍요와...',
    emoji: '🐷',
  },
};

/**
 * 생년으로 12지지(띠) 계산
 * @param birthYear 생년 (예: 1990)
 * @returns 12지지 정보
 */
export function calculateZodiac(birthYear: number): ZodiacInfo {
  // 기준년도 (쥐띠): 1900, 1912, 1924, 1936, 1948, 1960, 1972, 1984, 1996, 2008, 2020...
  // 1900년이 쥐띠이므로 이를 기준으로 계산
  const zodiacIndex = (birthYear - 1900) % 12;
  
  const zodiacOrder: Zodiac[] = [
    '쥐',      // 0: 1900, 1912, 1924, 1936, 1948, 1960, 1972, 1984, 1996, 2008, 2020
    '소',      // 1: 1901, 1913, 1925, 1937, 1949, 1961, 1973, 1985, 1997, 2009, 2021
    '호랑이',  // 2: 1902, 1914, 1926, 1938, 1950, 1962, 1974, 1986, 1998, 2010, 2022
    '토끼',    // 3: 1903, 1915, 1927, 1939, 1951, 1963, 1975, 1987, 1999, 2011, 2023
    '용',      // 4: 1904, 1916, 1928, 1940, 1952, 1964, 1976, 1988, 2000, 2012, 2024
    '뱀',      // 5: 1905, 1917, 1929, 1941, 1953, 1965, 1977, 1989, 2001, 2013, 2025
    '말',      // 6: 1906, 1918, 1930, 1942, 1954, 1966, 1978, 1990, 2002, 2014
    '양',      // 7: 1907, 1919, 1931, 1943, 1955, 1967, 1979, 1991, 2003, 2015
    '원숭이',  // 8: 1908, 1920, 1932, 1944, 1956, 1968, 1980, 1992, 2004, 2016
    '닭',      // 9: 1909, 1921, 1933, 1945, 1957, 1969, 1981, 1993, 2005, 2017
    '개',      // 10: 1910, 1922, 1934, 1946, 1958, 1970, 1982, 1994, 2006, 2018
    '돼지',    // 11: 1911, 1923, 1935, 1947, 1959, 1971, 1983, 1995, 2007, 2019
  ];
  
  const zodiac = zodiacOrder[zodiacIndex];
  return ZODIAC_INFO[zodiac];
}

